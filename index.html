<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>λ©”μΈ νμ΄μ§€ | WELL WASHING</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- π€ ν—¤λ” λ΅λ“ -->
    <header id="header"></header>

    <main>
        <h1>μ£Όμ°¨μ¥ λ¬΄μΈμ„Έμ°¨ μΆ…ν•© μ†”λ£¨μ…</h1>
        <p>λ©”μΈ νμ΄μ§€ μ½ν…μΈ </p>
    </main>

    <!-- π€ ν‘Έν„° λ΅λ“ -->
    <footer id="footer"></footer>

    <script>
        // π€ fetch()λ¥Ό μ‚¬μ©ν•μ—¬ header.htmlκ³Ό footer.htmlμ„ λ™μ μΌλ΅ λ¶λ¬μ¤κΈ°
        async function loadComponent(id, url) {
            try {
                const response = await fetch(url, { cache: "no-cache" });  // π”¥ μΊμ‹± λ¬Έμ  λ°©μ§€
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                const html = await response.text();
                document.getElementById(id).innerHTML = html;
            } catch (error) {
                console.error(`π¨ ${url} λ΅λ”© μ¤‘ μ¤λ¥ λ°μƒ:`, error);
            }
        }

        // π€ ν—¤λ” & ν‘Έν„°λ¥Ό λ¨Όμ € λ΅λ“ν• ν›„ νμ—… μ‹¤ν–‰
        Promise.all([
            loadComponent("header", "./header.html"),
            loadComponent("footer", "./footer.html")
        ]).then(() => {
            console.log("π€ ν—¤λ” & ν‘Έν„° λ΅λ”© μ™„λ£! νμ—… μ‹¤ν–‰ μ‹μ‘");
            loadPopupScript(); // π€ ν—¤λ”/ν‘Έν„° λ΅λ”© ν›„ νμ—… μ‹¤ν–‰
        }).catch(error => {
            console.error("π¨ ν—¤λ”/ν‘Έν„° λ΅λ”© μ¤‘ μ¤λ¥ λ°μƒ!", error);
        });

        // π€ νμ—… JS λ™μ  λ΅λ“ ν•¨μ
        function loadPopupScript() {
            const script = document.createElement("script");
            script.src = "popup.js";
            script.defer = true;
            document.body.appendChild(script);
        }
    </script>
</body>
</html>
